<script>
window.carouselState = window.carouselState || {};

function showSlides(id, n) {
  const container = document.getElementById(id);
  if (!container) return;

  const slides = container.querySelectorAll(".carousel-slide");
  if (!slides.length) return;

  if (!(id in window.carouselState)) {
    window.carouselState[id] = 0;
  }

  const total = slides.length;
  const index = (n + total) % total;

  slides.forEach((slide, i) => {
    slide.style.display = (i === index) ? "block" : "none";
  });

  window.carouselState[id] = index;
}

function plusSlides(id, delta) {
  const current = window.carouselState[id] || 0;
  showSlides(id, current + delta);
}

document.addEventListener("DOMContentLoaded", () => {
  const allCarousels = document.querySelectorAll("[id^='carousel-']");
  allCarousels.forEach(el => {
    showSlides(el.id, 0);
  });
});
</script>
