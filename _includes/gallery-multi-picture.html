{% assign carousel_id = 'carousel-' | append: include.title | slugify %}

<div class="gallery-column-item" style="flex: 1; min-width: 300px; margin: 10px; box-sizing: border-box;">
  <div class="gallery-picture" style="width: 100%; text-align: center;">
    
    <div class="feature-image" id="{{ carousel_id }}" style="position: relative; overflow: hidden; border-radius: 8px; background: #f9f9f9;">
      {% assign image_list = include.images | split: "," %}
      {% for img in image_list %}
        <img
          class="carousel-slide-{{ carousel_id }}"
          src="{{ img | strip | relative_url }}"
          loading="lazy"
          style="width: 100%; aspect-ratio: 4/3; object-fit: cover; display: none;"
        >
      {% endfor %}

      {% if image_list.size > 1 %}
        <button class="carousel-button prev" onclick="plusSlides('{{ carousel_id }}', -1)">&#10094;</button>
        <button class="carousel-button next" onclick="plusSlides('{{ carousel_id }}', 1)">&#10095;</button>
      {% endif %}
    </div>

    <div class="gallery-caption" style="text-align: center; margin-top: 10px;">
        <p style="margin: 0; font-weight: bold;">{{ include.title }}</p>
        {% if include.text %}
          <div style="font-size: 0.9em; color: #666;">{{ include.text | markdownify }}</div>
        {% endif %}
    </div>
  </div>
</div>